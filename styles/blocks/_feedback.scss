.feedback {
  --feedbackTextareaWrapperZIndex: 1;
  --feedbackFormWidth: 357px;

  margin-bottom: 18px;

  &__body {
    display: flex;
    justify-content: center;

    @include tablet-s {
      flex-direction: column;
    }
  }

  &__description {
    position: relative;

    width: 380px;
    margin-top: 5px;
    margin-right: 108px;

    @include setRem(24);
    line-height: 1.42;
    letter-spacing: var(--letter-spacing);

    @include tablet-s {
      width: 100%;
      margin: 0 0 27px 0;

      @include setRem(18);
      line-height: 1.6;
      letter-spacing: var(--letter-spacing-small);
    }

    &::before {
      content: "";
      position: absolute;
      right: calc(100% - 54px);
      translate: 0 -55px;
      z-index: -1;

      @include square(164px);

      background: url("../../images/feedback/question.svg") center no-repeat;

      @include desktop-s {
        translate: 90px -55px;
      }

      @include tablet {
        display: none;
      }
    }
  }

  &__form {
    display: flex;
    flex-direction: column;
    row-gap: 23px;
    width: var(--feedbackFormWidth);
    margin-right: 28px;

    &-button {
      margin-top: 18px;
      margin-left: auto;
      margin-right: -2px;

      @include tablet-s {
        width: 100%;
        margin: 16px 0 0 0;
      }
    }

    &-input {
      margin-bottom: 1px;
    }

    @include tablet-s {
      width: 100%;
      margin-right: 0;
      row-gap: 24px;
    }
  }

  &__textarea {
    width: 100%;

    scrollbar-width: none;
  }

  &__textarea-wrapper {
    position: relative;

    display: inline-flex;
    width: var(--feedbackFormWidth);
    height: auto;

    &:focus-within {
      &::before {
        border-bottom: var(--outline);
      }
    }

    @include tablet-s {
      width: 100%;
    }

    &::before, &::after {
      position: absolute;

      content: "";
      display: block;
      
      background-color: var(--color-dirty-grey);

      pointer-events: none;
    }

    &::before {
      left: 100%;
      bottom: 0;
      translate: -100% 0;
      z-index: var(--feedbackTextareaWrapperZIndex);

      /*При масштабировании страницы от 100% до ~30% страницы в firefox 
      увеличивается  размер resize в указанных ниже пропорциях. При 30% масштаба 
      иконка-треугольник у textarea начинает выходить за рамки 
      своего элемента. Поэтому здесь изменяются width и height в соответствии с
      изменением масштаба этой иконки для корректного её скрытия. Однако 
      стоит отметить, что оптимальным значением для height будет 5vh, но при
      таком значении появляется графический баг: псевдоэлемент ::before 
      съезжает вниз и border-bottom некорректно состыковывается с input.*/
      width: 1.25vw;
      height: 6vh;

      border-bottom: var(--border-light-grey);
      background-color: var(--color-light);

      @include tablet {
        height: 100%;
        width: 3vw;
      }
    }

    &::after {
      right: 0;
      bottom: 1px;
   
      width: 8px;
      height: 8px;
      z-index: 2;

      background: url("../../images/feedback/corner.svg") no-repeat center 
        / contain;

      @include tablet-s {
        background-image: url("../../images/feedback/corner-mobile.svg");
      }
    }
  }
}